package mcp

import "net/http"

// headerTransport wraps an http.RoundTripper to inject custom headers
// (e.g., Authorization: Bearer) into every outgoing request.
type headerTransport struct {
	headers map[string]string
	base    http.RoundTripper
}

func (t *headerTransport) RoundTrip(req *http.Request) (*http.Response, error) {
	req = req.Clone(req.Context())
	for k, v := range t.headers {
		req.Header.Set(k, v)
	}
	return t.base.RoundTrip(req)
}
